const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/merchant-DYFR1qkg.js","assets/vendor-DwOelw1b.js"])))=>i.map(i=>d[i]);
import{ai as X,j as e,aj as ae,H as je,P as E,e as K,b as $,F as U,U as fe,f as xe,m as f,L as be,B as me,r as u,D as z,g as le,ak as ye,C as Ne,A as H,G as ve,aa as we,i as he,h as ue,af as B,l as se,o as Z,ac as V,E as Q,a7 as pe,al as ke,ab as Y,T as Se,a2 as ee,d as G,am as re,ad as te,a5 as Ce,a6 as ne,a8 as ge,ag as De,an as ie,ah as Te,ao as Pe,ap as Oe}from"./vendor-DwOelw1b.js";import{I as _,B as T,a as ce,C as x,b as m,c as R,d as I,e as F}from"./merchant-DYFR1qkg.js";const Ie=({children:l,activeTab:S,setActiveTab:d,onLogout:P,onGoToMarketplace:h})=>{var n;const k=X(),O=()=>{k("/supplier/dashboard"),d("dashboard")},p=()=>{k("/supplier/products"),d("products")},L=()=>{k("/supplier/orders"),d("orders")},C=()=>{k("/supplier/quotations"),d("quotations")},j=()=>{k("/supplier/merchants"),d("merchants")},N=()=>{k("/supplier/inventory"),d("inventory")},o=()=>{k("/supplier/customers"),d("customers")},D=()=>{k("/supplier/reports"),d("reports")},q=()=>{k("/supplier/profile"),d("profile")},r=()=>{k("/supplier/settings"),d("settings")},b=[{id:"dashboard",name:"لوحة التحكم",icon:je},{id:"products",name:"المنتج",icon:E},{id:"inventory",name:"إدارة المخزون",icon:K},{id:"customers",name:"إدارة العملاء",icon:$},{id:"orders",name:"الطلبات الواردة",icon:K},{id:"quotations",name:"عروض الأسعار",icon:U},{id:"merchants",name:"التجار",icon:$},{id:"reports",name:"عرض التقارير",icon:U},{id:"profile",name:"الملف الشخصي",icon:fe},{id:"settings",name:"الإعدادات",icon:xe}],t=c=>{switch(d(c),c){case"dashboard":O();break;case"products":p();break;case"inventory":N();break;case"customers":o();break;case"orders":L();break;case"quotations":C();break;case"merchants":j();break;case"reports":D();break;case"profile":q();break;case"settings":r();break;default:O()}};return e.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[e.jsx("aside",{className:"fixed inset-y-0 right-0 z-50 w-64 bg-white shadow-xl lg:shadow-lg",children:e.jsxs("div",{className:"flex flex-col h-full overflow-hidden",children:[e.jsx("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-green-500 to-emerald-600 rounded-lg flex items-center justify-center",children:e.jsx(ae,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"لوحة المورد"}),e.jsx("p",{className:"text-sm text-gray-500",children:"مرحباً بك"})]})]})}),e.jsx("nav",{className:"flex-1 p-4 space-y-2 overflow-auto",children:b.map(c=>{const w=c.icon,v=S===c.id;return e.jsxs(f.button,{onClick:()=>t(c.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl text-right transition-all duration-200 ${v?"bg-gradient-to-r from-green-500 to-emerald-600 text-white shadow-lg":"text-gray-700 hover:bg-gray-100 hover:text-green-600"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:[e.jsx(w,{className:`h-5 w-5 ${v?"text-white":"text-gray-500"}`}),e.jsx("span",{className:"font-medium",children:c.name})]},c.id)})}),e.jsx("div",{className:"p-4 border-t border-gray-200 mt-auto",children:e.jsxs(f.button,{onClick:P,className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-red-600 hover:bg-red-50 transition-all duration-200",whileHover:{scale:1.02},whileTap:{scale:.98},children:[e.jsx(be,{className:"h-5 w-5"}),e.jsx("span",{className:"font-medium",children:"تسجيل الخروج"})]})})]})}),e.jsxs("div",{className:"flex-1 flex flex-col mr-64",children:[e.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200 px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:((n=b.find(c=>c.id===S))==null?void 0:n.name)||"لوحة التحكم"})}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(f.button,{onClick:h,className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-lg hover:from-green-700 hover:to-emerald-700 transition-all",whileHover:{scale:1.05},whileTap:{scale:.95},children:[e.jsx(E,{className:"h-5 w-5"}),e.jsx("span",{className:"font-medium",children:"السوق الذكي"})]}),e.jsxs(f.button,{className:"relative p-2 rounded-lg hover:bg-gray-100",whileHover:{scale:1.05},whileTap:{scale:.95},children:[e.jsx(me,{className:"h-6 w-6 text-gray-600"}),e.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full"})]}),e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-green-500 to-emerald-600 rounded-full flex items-center justify-center",children:e.jsx(ae,{className:"h-5 w-5 text-white"})})]})]})}),e.jsx("main",{className:"flex-1 p-4 bg-gray-50 overflow-auto",children:e.jsx(f.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:l},S)})]})]})},Me=()=>{const[l,S]=u.useState("daily"),d=X(),P=()=>{d("/supplier/products")},h=()=>{d("/supplier/orders")},k=()=>{d("/supplier/merchants")},O=()=>{d("/supplier/reports")},p={initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6}},[L,C]=u.useState(()=>{try{const s=localStorage.getItem("supplier_merchants_v1");return s?JSON.parse(s):[]}catch{return[]}});u.useEffect(()=>{try{localStorage.setItem("supplier_merchants_v1",JSON.stringify(L))}catch{}},[L]),u.useEffect(()=>{let s=!0;return fetch("/api/supplier/merchants").then(a=>a.json()).then(a=>{s&&a&&a.merchants&&C(a.merchants)}).catch(()=>{}),()=>{s=!1}},[]);const[j,N]=u.useState(!1),[o,D]=u.useState({name:"",contact:"",phone:""}),q=()=>{D({name:"",contact:"",phone:""}),N(!0)},r=()=>N(!1),b=s=>{if(s.preventDefault(),!o.name||!o.name.trim()){alert("الرجاء إدخال اسم التاجر");return}fetch("/api/supplier/merchants",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({store_name:o.name,email:o.contact,phone:o.phone})}).then(async a=>{if(!a.ok){const g=await a.json().catch(()=>({}));throw new Error(g.error||"خطأ عند إنشاء التاجر")}return a.json()}).then(a=>{a&&a.merchant&&C(g=>[a.merchant,...g]),N(!1)}).catch(()=>{const a=Date.now();C(g=>[{id:a,name:o.name,contact:o.contact,phone:o.phone},...g]),N(!1)})},t=s=>{window.confirm("هل تريد حذف هذا التاجر؟")&&C(a=>a.filter(g=>g.id!==s&&g.user_id!==s))},n=[{title:"إجمالي المبيعات",value:"180,450",unit:"ر.س",change:"+18.3%",changeType:"positive",icon:z,color:"from-green-500 to-emerald-400",bgColor:"bg-green-50",iconColor:"text-green-600"},{title:"المنتجات النشطة",value:"89",unit:"منتج",change:"+5.7%",changeType:"positive",icon:E,color:"from-blue-500 to-indigo-400",bgColor:"bg-blue-50",iconColor:"text-blue-600"},{title:"العملاء النشطين",value:"34",unit:"عميل",change:"+12.1%",changeType:"positive",icon:$,color:"from-purple-500 to-pink-400",bgColor:"bg-purple-50",iconColor:"text-purple-600"},{title:"الطلبات الجديدة",value:"23",unit:"طلب",change:"+9.4%",changeType:"positive",icon:le,color:"from-amber-500 to-orange-400",bgColor:"bg-amber-50",iconColor:"text-amber-600"}],c=[{id:1,type:"order",title:"طلب جديد من شركة التجارة المتقدمة",time:"منذ 5 دقائق",icon:le,iconBg:"bg-green-100",iconColor:"text-green-600"},{id:2,type:"product",title:"تم إضافة منتج جديد للكتالوج",time:"منذ 30 دقيقة",icon:E,iconBg:"bg-blue-100",iconColor:"text-blue-600"},{id:3,type:"inventory",title:"تحديث مخزون المنتجات",time:"منذ ساعة",icon:E,iconBg:"bg-amber-100",iconColor:"text-amber-600"},{id:4,type:"message",title:"استفسار جديد من عميل",time:"منذ ساعتين",icon:ye,iconBg:"bg-rose-100",iconColor:"text-rose-600"}],w=[{id:1,name:"لابتوب HP EliteBook",category:"إلكترونيات",price:2500,stock:15,status:"متوفر",orders:45,views:234,image:"https://images.unsplash.com/photo-1593642702821-c8da6771f0c6?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=60",badge:{text:"الأكثر مبيعاً",color:"bg-green-500"}},{id:2,name:"كاميرا مراقبة ذكية",category:"أمان",price:320,stock:25,status:"متوفر",orders:67,views:189,image:"https://images.unsplash.com/photo-1526170375885-4d8ecf77b99f?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=60",badge:{text:"جديد",color:"bg-blue-500"}},{id:3,name:"راوتر WiFi 6 متقدم",category:"شبكات",price:450,stock:0,status:"نفد",orders:89,views:156,image:"https://images.unsplash.com/photo-1544717297-fa95b6ee9643?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=60",badge:{text:"نفد المخزون",color:"bg-red-500"}},{id:4,name:"مكتب الأعمال المطور",category:"أثاث",price:4250,stock:12,status:"قليل",orders:23,views:98,image:"https://images.unsplash.com/photo-1555041469-a586c61ea9bc?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=60",badge:{text:"مخزون قليل",color:"bg-amber-500"}}],v=[{id:1,orderNumber:"ORD-2024-001",customer:"شركة الأعمال التجارية",product:"لابتوب HP EliteBook",quantity:10,amount:25e3,date:"2024-09-07",status:"جديد"},{id:2,orderNumber:"ORD-2024-002",customer:"مؤسسة التقنية الحديثة",product:"كاميرا مراقبة ذكية",quantity:5,amount:1600,date:"2024-09-07",status:"قيد المراجعة"},{id:3,orderNumber:"ORD-2024-003",customer:"شركة الأمن الشامل",product:"مكتب الأعمال المطور",quantity:3,amount:12750,date:"2024-09-06",status:"جديد"}],M=s=>{switch(s){case"متوفر":return"text-green-600 bg-green-50";case"قليل":return"text-amber-600 bg-amber-50";case"نفد":return"text-red-600 bg-red-50";default:return"text-gray-600 bg-gray-50"}};return e.jsxs("div",{className:"p-8 bg-gray-50 min-h-screen",children:[e.jsx(f.div,{className:"bg-gradient-to-br from-green-600 to-emerald-500 rounded-3xl p-10 text-white shadow-2xl mb-8",...p,children:e.jsxs("div",{className:"flex flex-col lg:flex-row items-center justify-between",children:[e.jsxs("div",{className:"mb-8 lg:mb-0",children:[e.jsx("h2",{className:"text-4xl font-bold mb-3",children:"لوحة تحكم المورد"}),e.jsx("p",{className:"text-green-100 text-lg max-w-2xl",children:"اعرض منتجاتك واستقبل طلبات التجار وأدر عملياتك التجارية بكفاءة عالية."}),e.jsxs("div",{className:"mt-6 flex flex-wrap gap-3",children:[e.jsx("button",{className:"bg-white text-green-600 px-6 py-2 rounded-full font-bold hover:bg-green-50 transition-colors",onClick:P,children:"إضافة منتج جديد"}),e.jsx("button",{className:"bg-transparent border-2 border-white text-white px-6 py-2 rounded-full font-bold hover:bg-white/10 transition-colors",onClick:O,children:"عرض الإحصائيات"})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center space-y-6 sm:space-y-0 sm:space-x-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-4xl font-bold",children:"89"}),e.jsx("p",{className:"text-green-200",children:"منتج نشط"})]}),e.jsx("div",{className:"w-px h-12 bg-green-400 hidden sm:block"}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-4xl font-bold",children:"34"}),e.jsx("p",{className:"text-green-200",children:"عميل نشط"})]}),e.jsx("div",{className:"w-px h-12 bg-green-400 hidden sm:block"}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-4xl font-bold",children:"180K"}),e.jsx("p",{className:"text-green-200",children:"إجمالي المبيعات"})]})]})]})}),j&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:e.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md p-6 shadow-xl",children:[e.jsx("h4",{className:"text-lg font-bold mb-4",children:"إضافة تاجر جديد"}),e.jsxs("form",{onSubmit:b,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-700",children:"اسم التاجر"}),e.jsx("input",{autoFocus:!0,value:o.name,onChange:s=>D(a=>({...a,name:s.target.value})),className:"w-full mt-2 px-3 py-2 border rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-700",children:"البريد الإلكتروني"}),e.jsx("input",{value:o.contact,onChange:s=>D(a=>({...a,contact:s.target.value})),className:"w-full mt-2 px-3 py-2 border rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-700",children:"الهاتف"}),e.jsx("input",{value:o.phone,onChange:s=>D(a=>({...a,phone:s.target.value})),className:"w-full mt-2 px-3 py-2 border rounded-lg"})]}),e.jsxs("div",{className:"flex items-center justify-end gap-3",children:[e.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 rounded-lg bg-gray-100",children:"إلغاء"}),e.jsx("button",{type:"submit",className:"px-4 py-2 rounded-lg bg-green-600 text-white",children:"إضافة"})]})]})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:n.map((s,a)=>e.jsxs(f.div,{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100 hover:shadow-xl hover:-translate-y-2 hover:scale-105 transition-all duration-300 relative overflow-hidden",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:a*.1},children:[e.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-gradient-to-br opacity-10 rounded-full -translate-y-4 translate-x-4",style:{background:`linear-gradient(135deg, ${s.color.split(" ")[1]}, ${s.color.split(" ")[3]})`}}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:`w-12 h-12 ${s.bgColor} rounded-xl flex items-center justify-center transition-transform duration-300 hover:rotate-12 hover:scale-110`,children:e.jsx(s.icon,{className:`w-6 h-6 ${s.iconColor}`})}),e.jsx("span",{className:`text-sm font-medium px-2 py-1 rounded-full ${s.changeType==="positive"?"text-green-600 bg-green-50":"text-red-600 bg-red-50"}`,children:s.change})]}),e.jsx("h3",{className:"text-gray-600 text-sm font-medium mb-2",children:s.title}),e.jsxs("div",{className:"flex items-baseline",children:[e.jsx("span",{className:"text-3xl font-bold text-gray-800",children:s.value}),e.jsx("span",{className:"text-gray-500 text-sm mr-2",children:s.unit})]})]},s.title))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8",children:[e.jsxs(f.div,{className:"lg:col-span-1 bg-white rounded-2xl p-6 shadow-lg border border-gray-100",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.6},children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-6",children:"آخر النشاطات"}),e.jsx("div",{className:"space-y-4",children:c.map((s,a)=>e.jsxs(f.div,{className:"flex items-start hover:bg-gray-50 p-3 rounded-lg transition-colors",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{duration:.4,delay:.7+a*.1},children:[e.jsx("div",{className:`w-10 h-10 ${s.iconBg} rounded-full flex items-center justify-center flex-shrink-0 ml-3`,children:e.jsx(s.icon,{className:`w-5 h-5 ${s.iconColor}`})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-800",children:s.title}),e.jsx("p",{className:"text-sm text-gray-500",children:s.time})]})]},s.id))}),e.jsx("button",{className:"w-full mt-6 text-center text-green-600 font-medium hover:text-green-700 transition-colors",children:"عرض كل النشاطات"})]}),e.jsxs(f.div,{className:"lg:col-span-2",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.6},children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"منتجاتي المعروضة"}),e.jsxs("button",{className:"text-green-600 font-medium hover:text-green-700 flex items-center transition-colors",onClick:P,children:[e.jsx("span",{children:"إدارة المنتجات"}),e.jsx(Ne,{className:"w-4 h-4 mr-1"})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:w.map((s,a)=>e.jsxs(f.div,{className:"bg-white rounded-2xl overflow-hidden shadow-lg border border-gray-100 group hover:shadow-xl hover:-translate-y-2 transition-all duration-300",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.8+a*.1},children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:s.image,alt:s.name,className:"w-full h-48 object-cover group-hover:scale-110 transition-transform duration-300"}),e.jsx("span",{className:`absolute top-3 left-3 ${s.badge.color} text-white text-xs font-bold px-2 py-1 rounded-full`,children:s.badge.text})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"text-lg font-bold text-gray-800 line-clamp-1",children:s.name}),e.jsx("span",{className:`text-xs font-medium px-2 py-1 rounded-full ${M(s.status)}`,children:s.status})]}),e.jsx("p",{className:"text-gray-500 mb-4 text-sm",children:s.category}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsxs("span",{className:"font-bold text-xl text-green-600",children:[s.price.toLocaleString()," ",e.jsx("span",{className:"text-sm",children:"ر.س"})]}),e.jsxs("p",{className:"text-xs text-gray-500",children:["الكمية: ",s.stock]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:[s.orders," طلب"]}),e.jsxs("p",{className:"text-xs text-gray-500",children:[s.views," مشاهدة"]})]})]}),e.jsx("button",{className:"w-full bg-green-500 text-white py-2 rounded-full font-semibold hover:bg-green-600 transition-colors text-sm",onClick:P,children:"تعديل المنتج"})]})]},s.id))})]})]}),e.jsxs(f.div,{className:"bg-white rounded-2xl p-8 shadow-lg border border-gray-100 mb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.7},children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"طلبات التجار"}),e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("span",{className:"text-sm text-gray-500",children:[v.length," طلب جديد"]})})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("th",{className:"text-right py-3 px-4 font-semibold text-gray-700",children:"رقم الطلب"}),e.jsx("th",{className:"text-right py-3 px-4 font-semibold text-gray-700",children:"العميل"}),e.jsx("th",{className:"text-right py-3 px-4 font-semibold text-gray-700",children:"المنتج"}),e.jsx("th",{className:"text-right py-3 px-4 font-semibold text-gray-700",children:"الكمية"}),e.jsx("th",{className:"text-right py-3 px-4 font-semibold text-gray-700",children:"المبلغ"}),e.jsx("th",{className:"text-right py-3 px-4 font-semibold text-gray-700",children:"الحالة"}),e.jsx("th",{className:"text-right py-3 px-4 font-semibold text-gray-700",children:"الإجراءات"})]})}),e.jsx("tbody",{children:v.map((s,a)=>e.jsxs(f.tr,{className:"border-b border-gray-100 hover:bg-gray-50 transition-colors",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{duration:.4,delay:.8+a*.1},children:[e.jsx("td",{className:"py-4 px-4 font-medium text-gray-800",children:s.orderNumber}),e.jsx("td",{className:"py-4 px-4 text-gray-600",children:s.customer}),e.jsx("td",{className:"py-4 px-4 text-gray-600",children:s.product}),e.jsx("td",{className:"py-4 px-4 text-gray-600",children:s.quantity}),e.jsxs("td",{className:"py-4 px-4 font-semibold text-green-600",children:[s.amount.toLocaleString()," ر.س"]}),e.jsx("td",{className:"py-4 px-4",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${s.status==="جديد"?"bg-blue-50 text-blue-600":"bg-amber-50 text-amber-600"}`,children:s.status})}),e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{className:"p-2 bg-green-50 text-green-600 rounded-lg hover:bg-green-100 transition-colors",onClick:()=>h(),children:e.jsx(H,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition-colors",onClick:()=>{window.confirm("هل أنت متأكد من رفض هذا الطلب؟")&&alert("تم رفض الطلب بنجاح")},children:e.jsx(ve,{className:"w-4 h-4"})})]})})]},s.id))})]})})]}),e.jsxs(f.div,{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100 mb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.8},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"إدارة التجار"}),e.jsxs("button",{onClick:q,className:"bg-green-600 text-white px-4 py-2 rounded-full hover:bg-green-700 transition-colors flex items-center",children:[e.jsx(we,{className:"w-4 h-4 mr-2"}),"إضافة تاجر جديد"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:L.length===0?e.jsx("div",{className:"text-gray-500",children:"لا توجد تجار مسجلة حتى الآن."}):L.map(s=>e.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100 flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-800",children:s.store_name||s.name}),e.jsx("p",{className:"text-sm text-gray-500",children:s.email||s.contact||"-"}),e.jsx("p",{className:"text-sm text-gray-500",children:s.phone||"-"})]}),e.jsx("div",{className:"flex flex-col items-end",children:e.jsx("button",{onClick:()=>t(s.id||s.user_id),className:"text-red-600 bg-red-50 px-3 py-1 rounded-md hover:bg-red-100",children:"حذف"})})]},s.id||s.user_id||s.store_name))})]}),e.jsxs(f.div,{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.8},children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-6",children:"إجراءات سريعة"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("button",{className:"flex flex-col items-center p-4 bg-green-50 rounded-xl hover:bg-green-100 transition-colors group",onClick:P,children:[e.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-xl flex items-center justify-center mb-3 group-hover:scale-110 transition-transform",children:e.jsx(he,{className:"w-6 h-6 text-white"})}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"إضافة منتج"})]}),e.jsxs("button",{className:"flex flex-col items-center p-4 bg-blue-50 rounded-xl hover:bg-blue-100 transition-colors group",onClick:h,children:[e.jsx("div",{className:"w-12 h-12 bg-blue-500 rounded-xl flex items-center justify-center mb-3 group-hover:scale-110 transition-transform",children:e.jsx(E,{className:"w-6 h-6 text-white"})}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"إدارة المخزون"})]}),e.jsxs("button",{className:"flex flex-col items-center p-4 bg-purple-50 rounded-xl hover:bg-purple-100 transition-colors group",onClick:k,children:[e.jsx("div",{className:"w-12 h-12 bg-purple-500 rounded-xl flex items-center justify-center mb-3 group-hover:scale-110 transition-transform",children:e.jsx($,{className:"w-6 h-6 text-white"})}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"إدارة العملاء"})]}),e.jsxs("button",{className:"flex flex-col items-center p-4 bg-amber-50 rounded-xl hover:bg-amber-100 transition-colors group",onClick:O,children:[e.jsx("div",{className:"w-12 h-12 bg-amber-500 rounded-xl flex items-center justify-center mb-3 group-hover:scale-110 transition-transform",children:e.jsx(ue,{className:"w-6 h-6 text-white"})}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"عرض التقارير"})]})]})]})]})};function qe({open:l,onClose:S,onCreate:d}){const[P,h]=u.useState(""),[k,O]=u.useState(""),[p,L]=u.useState("");if(!l)return null;const C=async j=>{j.preventDefault();const N={name:P,price:parseFloat(k||0),category:p};await d(N)};return e.jsx("div",{className:"fixed inset-0 bg-black/40 z-50 flex items-center justify-center",children:e.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md",children:[e.jsx("h3",{className:"text-lg font-bold mb-4",children:"إضافة منتج جديد"}),e.jsxs("form",{onSubmit:C,className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"اسم المنتج"}),e.jsx(_,{value:P,onChange:j=>h(j.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"السعر"}),e.jsx(_,{value:k,onChange:j=>O(j.target.value),type:"number",step:"0.01",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"الفئة"}),e.jsx(_,{value:p,onChange:j=>L(j.target.value)})]}),e.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[e.jsx(T,{variant:"ghost",type:"button",onClick:S,children:"إلغاء"}),e.jsx(T,{type:"submit",children:"إضافة"})]})]})]})})}const Fe=()=>{const[l,S]=u.useState([]),[d,P]=u.useState(!1),[h,k]=u.useState(""),[O,p]=u.useState("all"),[L,C]=u.useState(null);u.useEffect(()=>{j()},[]);const j=async()=>{try{const t=await ce("/api/supplier/products");Array.isArray(t)?S(t):t&&t.products&&S(t.products)}catch(t){console.error("خطأ في جلب المنتجات:",t)}},N=l.filter(t=>{const n=t.name.toLowerCase().includes(h.toLowerCase())||t.sku.toLowerCase().includes(h.toLowerCase()),c=O==="all"||t.category===O;return n&&c}),o=t=>{switch(t){case"active":return"bg-green-100 text-green-800";case"low_stock":return"bg-yellow-100 text-yellow-800";case"out_of_stock":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},D=t=>{switch(t){case"active":return"متوفر";case"low_stock":return"مخزون منخفض";case"out_of_stock":return"نفد المخزون";default:return t}},q=["all","إلكترونيات","أثاث","ملابس","أدوات منزلية"],r=t=>{window.confirm("هل أنت متأكد من حذف هذا المنتج؟")&&S(l.filter(n=>n.id!==t))},b=t=>{try{window.location.href="/supplier/products/edit/"+t}catch(n){console.warn("Navigation fallback failed",n)}};return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs(f.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"إدارة المنتجات"}),e.jsx("p",{className:"text-gray-600",children:"إدارة وتنظيم منتجاتك بسهولة"})]}),e.jsxs(T,{onClick:()=>{P(!0)},className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(he,{className:"h-4 w-4 mr-2"}),"إضافة منتج جديد"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsx(x,{children:e.jsx(m,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"إجمالي المنتجات"}),e.jsx("p",{className:"text-2xl font-bold",children:l.length})]}),e.jsx(E,{className:"h-8 w-8 text-blue-600"})]})})}),e.jsx(x,{children:e.jsx(m,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"المنتجات النشطة"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:l.filter(t=>t.status==="active").length})]}),e.jsx(B,{className:"h-8 w-8 text-green-600"})]})})}),e.jsx(x,{children:e.jsx(m,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"مخزون منخفض"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:l.filter(t=>t.status==="low_stock").length})]}),e.jsx(se,{className:"h-8 w-8 text-yellow-600"})]})})}),e.jsx(x,{children:e.jsx(m,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"نفد المخزون"}),e.jsx("p",{className:"text-2xl font-bold text-red-600",children:l.filter(t=>t.status==="out_of_stock").length})]}),e.jsx(E,{className:"h-8 w-8 text-red-600"})]})})})]})]}),e.jsx(qe,{open:d,onClose:()=>P(!1),onCreate:async t=>{try{const n=await ce("/api/supplier/products",{method:"POST",body:t});n&&n.product?(S(c=>[n.product,...c]),P(!1)):(alert("خطأ: رد غير متوقع من الخادم"),j())}catch(n){alert("خطأ في إنشاء المنتج: "+n.message)}}}),e.jsx(f.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:e.jsx(x,{children:e.jsx(m,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx(_,{type:"text",placeholder:"البحث في المنتجات...",value:h,onChange:t=>k(t.target.value),className:"pl-10"})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("select",{value:O,onChange:t=>p(t.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:q.map(t=>e.jsx("option",{value:t,children:t==="all"?"جميع الفئات":t},t))}),e.jsxs(T,{variant:"outline",children:[e.jsx(V,{className:"h-4 w-4 mr-2"}),"تصفية"]})]})]})})})}),e.jsx(f.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:e.jsxs(x,{children:[e.jsxs(R,{children:[e.jsx(I,{children:"قائمة المنتجات"}),e.jsxs(F,{children:["عرض ",N.length," من أصل ",l.length," منتج"]})]}),e.jsxs(m,{children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:N.map(t=>e.jsxs(f.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3},className:"border rounded-lg p-4 hover:shadow-lg transition-shadow",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:t.name}),e.jsx("p",{className:"text-gray-600 mb-2",children:t.description}),e.jsxs("p",{className:"text-xs text-gray-500",children:["SKU: ",t.sku]})]}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${o(t.status)}`,children:D(t.status)})]}),e.jsx("div",{className:"flex items-center justify-between mb-3",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"السعر"}),e.jsxs("p",{className:"font-bold text-lg",children:[t.price.toLocaleString()," ريال"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"المخزون"}),e.jsx("p",{className:"font-bold text-lg",children:t.stock})]})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(T,{size:"sm",variant:"outline",className:"flex-1",onClick:()=>{C(t),console.log("عرض تفاصيل المنتج:",t.name)},children:[e.jsx(Q,{className:"h-4 w-4 mr-1"}),"عرض"]}),e.jsxs(T,{size:"sm",variant:"outline",className:"flex-1",onClick:()=>b(t.id),children:[e.jsx(pe,{className:"h-4 w-4 mr-1"}),"تعديل"]}),e.jsx(T,{size:"sm",variant:"outline",className:"text-red-600 hover:text-red-700",onClick:()=>r(t.id),children:e.jsx(ke,{className:"h-4 w-4"})})]})]},t.id))}),N.length===0&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx(E,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"لا توجد منتجات تطابق البحث"})]})]})]})})]})},$e=()=>{const[l,S]=u.useState([]),[d,P]=u.useState(""),[h,k]=u.useState("all"),[O,p]=u.useState(null),[L,C]=u.useState(!1);X(),u.useEffect(()=>{j()},[]);const j=async()=>{try{S([{id:1,orderNumber:"ORD-001",merchant:{name:"متجر الأسواق الحديثة",email:"modern@markets.com",phone:"+966501234567"},items:[{name:"جهاز كمبيوتر محمول HP",quantity:2,price:2500},{name:"هاتف ذكي Samsung",quantity:1,price:1800}],totalAmount:6800,status:"pending",orderDate:"2025-09-06",deliveryDate:"2025-09-10",shippingAddress:"الرياض، حي النخيل، شارع الملك فهد"},{id:2,orderNumber:"ORD-002",merchant:{name:"سوق المدينة",email:"city@market.com",phone:"+966502345678"},items:[{name:"طاولة مكتب خشبية",quantity:3,price:800},{name:"كرسي مكتب مريح",quantity:3,price:450}],totalAmount:3750,status:"processing",orderDate:"2025-09-05",deliveryDate:"2025-09-08",shippingAddress:"جدة، حي الصفا، شارع التحلية"},{id:3,orderNumber:"ORD-003",merchant:{name:"متجر الجودة",email:"quality@store.com",phone:"+966503456789"},items:[{name:"جهاز كمبيوتر محمول HP",quantity:1,price:2500}],totalAmount:2500,status:"completed",orderDate:"2025-09-04",deliveryDate:"2025-09-07",shippingAddress:"الدمام، حي الفيصلية، شارع الأمير محمد"},{id:4,orderNumber:"ORD-004",merchant:{name:"متجر التقنية",email:"tech@store.com",phone:"+966504567890"},items:[{name:"هاتف ذكي Samsung",quantity:5,price:1800}],totalAmount:9e3,status:"shipped",orderDate:"2025-09-03",deliveryDate:"2025-09-06",shippingAddress:"مكة المكرمة، حي العزيزية، شارع الحرم"}])}catch(t){console.error("خطأ في جلب الطلبات:",t)}},N=l.filter(t=>{const n=t.orderNumber.toLowerCase().includes(d.toLowerCase())||t.merchant.name.toLowerCase().includes(d.toLowerCase()),c=h==="all"||t.status===h;return n&&c}),o=t=>{switch(t){case"pending":return"bg-yellow-100 text-yellow-800";case"processing":return"bg-blue-100 text-blue-800";case"shipped":return"bg-purple-100 text-purple-800";case"completed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},D=t=>{switch(t){case"pending":return"في الانتظار";case"processing":return"قيد المعالجة";case"shipped":return"تم الشحن";case"completed":return"مكتمل";case"cancelled":return"ملغي";default:return t}},q=t=>{switch(t){case"pending":return e.jsx(Y,{className:"h-4 w-4"});case"processing":return e.jsx(se,{className:"h-4 w-4"});case"shipped":return e.jsx(Se,{className:"h-4 w-4"});case"completed":return e.jsx(H,{className:"h-4 w-4"});default:return e.jsx(E,{className:"h-4 w-4"})}},r=(t,n)=>{S(l.map(c=>c.id===t?{...c,status:n}:c)),console.log(`تم تحديث حالة الطلب ${t} إلى ${n}`)},b=["all","pending","processing","shipped","completed","cancelled"];return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs(f.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"إدارة الطلبات"}),e.jsx("p",{className:"text-gray-600",children:"متابعة وإدارة جميع الطلبات الواردة من التجار"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsx(x,{children:e.jsx(m,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"إجمالي الطلبات"}),e.jsx("p",{className:"text-2xl font-bold",children:l.length})]}),e.jsx(E,{className:"h-8 w-8 text-blue-600"})]})})}),e.jsx(x,{children:e.jsx(m,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"في الانتظار"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:l.filter(t=>t.status==="pending").length})]}),e.jsx(Y,{className:"h-8 w-8 text-yellow-600"})]})})}),e.jsx(x,{children:e.jsx(m,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"قيد المعالجة"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:l.filter(t=>t.status==="processing").length})]}),e.jsx(se,{className:"h-8 w-8 text-blue-600"})]})})}),e.jsx(x,{children:e.jsx(m,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"مكتملة"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:l.filter(t=>t.status==="completed").length})]}),e.jsx(H,{className:"h-8 w-8 text-green-600"})]})})})]})]}),e.jsx(f.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:e.jsx(x,{children:e.jsx(m,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx(_,{type:"text",placeholder:"البحث في الطلبات...",value:d,onChange:t=>P(t.target.value),className:"pl-10"})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("select",{value:h,onChange:t=>k(t.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:b.map(t=>e.jsx("option",{value:t,children:t==="all"?"جميع الحالات":D(t)},t))}),e.jsxs(T,{variant:"outline",children:[e.jsx(V,{className:"h-4 w-4 mr-2"}),"تصفية"]})]})]})})})}),e.jsx(f.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:e.jsxs(x,{children:[e.jsxs(R,{children:[e.jsx(I,{children:"قائمة الطلبات"}),e.jsxs(F,{children:["عرض ",N.length," من أصل ",l.length," طلب"]})]}),e.jsxs(m,{children:[e.jsx("div",{className:"space-y-4",children:N.map(t=>e.jsxs(f.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3},className:"border rounded-lg p-4 hover:shadow-lg transition-shadow",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h3",{className:"font-semibold text-lg text-gray-900",children:t.orderNumber}),e.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-medium flex items-center gap-1 ${o(t.status)}`,children:[q(t.status),D(t.status)]})]}),e.jsxs("p",{className:"text-gray-600 mb-1",children:["التاجر: ",t.merchant.name]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["تاريخ الطلب: ",t.orderDate]})]}),e.jsxs("div",{className:"text-left",children:[e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[t.totalAmount.toLocaleString()," ريال"]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[t.items.length," منتج"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"معلومات التاجر"}),e.jsx("p",{className:"text-sm",children:t.merchant.email}),e.jsx("p",{className:"text-sm",children:t.merchant.phone})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"تاريخ التسليم المتوقع"}),e.jsx("p",{className:"text-sm font-medium",children:t.deliveryDate})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"عنوان الشحن"}),e.jsx("p",{className:"text-sm",children:t.shippingAddress})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs(T,{size:"sm",variant:"outline",onClick:()=>{p(t),C(!0),console.log("عرض تفاصيل الطلب:",t.orderNumber)},children:[e.jsx(Q,{className:"h-4 w-4 mr-1"}),"عرض التفاصيل"]}),t.status==="pending"&&e.jsx(T,{size:"sm",className:"bg-blue-600 hover:bg-blue-700",onClick:()=>r(t.id,"processing"),children:"قبول الطلب"}),t.status==="processing"&&e.jsx(T,{size:"sm",className:"bg-purple-600 hover:bg-purple-700",onClick:()=>r(t.id,"shipped"),children:"تأكيد الشحن"}),t.status==="shipped"&&e.jsx(T,{size:"sm",className:"bg-green-600 hover:bg-green-700",onClick:()=>r(t.id,"completed"),children:"تأكيد التسليم"})]})]},t.id))}),N.length===0&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx(E,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"لا توجد طلبات تطابق البحث"})]})]})]})})]})},_e="modulepreload",Le=function(l){return"/"+l},de={},oe=function(S,d,P){let h=Promise.resolve();if(d&&d.length>0){let O=function(C){return Promise.all(C.map(j=>Promise.resolve(j).then(N=>({status:"fulfilled",value:N}),N=>({status:"rejected",reason:N}))))};document.getElementsByTagName("link");const p=document.querySelector("meta[property=csp-nonce]"),L=(p==null?void 0:p.nonce)||(p==null?void 0:p.getAttribute("nonce"));h=O(d.map(C=>{if(C=Le(C),C in de)return;de[C]=!0;const j=C.endsWith(".css"),N=j?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${C}"]${N}`))return;const o=document.createElement("link");if(o.rel=j?"stylesheet":_e,j||(o.as="script"),o.crossOrigin="",o.href=C,L&&o.setAttribute("nonce",L),document.head.appendChild(o),j)return new Promise((D,q)=>{o.addEventListener("load",D),o.addEventListener("error",()=>q(new Error(`Unable to preload CSS for ${C}`)))})}))}function k(O){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=O,window.dispatchEvent(p),!p.defaultPrevented)throw O}return h.then(O=>{for(const p of O||[])p.status==="rejected"&&k(p.reason);return S().catch(k)})},Ue=()=>{const[l,S]=u.useState([]),[d,P]=u.useState(""),[h,k]=u.useState("all"),[O,p]=u.useState(null),[L,C]=u.useState(!1);X(),u.useEffect(()=>{(async()=>{try{const g=await(await oe(()=>import("./merchant-DYFR1qkg.js").then(y=>y.u),__vite__mapDeps([0,1]))).apiFetch("/api/supplier/quotations");if(g&&Array.isArray(g.quotations)){S(g.quotations.map(y=>({id:y.id,quotationNumber:y.quotation_number||y.quotationNumber||`QUO-${y.id}`,merchant:y.merchant||{name:y.merchant_name||"تاجر"},requestedItems:y.items||y.requestedItems||[],status:y.status,requestDate:y.created_at?y.created_at.split("T")[0]:y.requestDate||"",deadline:y.valid_until||y.deadline||"",notes:y.notes||"",quotedPrice:y.total_amount||y.quotedPrice||null})));return}S([{id:1,quotationNumber:"QUO-001",merchant:{name:"متجر الأسواق الحديثة",email:"modern@markets.com",phone:"+966501234567"},requestedItems:[{name:"جهاز كمبيوتر محمول HP",quantity:10,specifications:"معالج i7، ذاكرة 16GB"},{name:"هاتف ذكي Samsung",quantity:5,specifications:"ذاكرة 128GB، كاميرا 64MP"}],status:"pending",requestDate:"2025-09-06",deadline:"2025-09-08",notes:"نحتاج عرض سعر تنافسي للكميات المطلوبة",quotedPrice:null,quotedDate:null},{id:2,quotationNumber:"QUO-002",merchant:{name:"سوق المدينة",email:"city@market.com",phone:"+966502345678"},requestedItems:[{name:"طاولة مكتب خشبية",quantity:20,specifications:"خشب طبيعي، أبعاد 120x80 سم"},{name:"كرسي مكتب مريح",quantity:20,specifications:"قابل للتعديل، مسند ظهر"}],status:"quoted",requestDate:"2025-09-05",deadline:"2025-09-07",notes:"مطلوب للمكاتب الجديدة",quotedPrice:25e3,quotedDate:"2025-09-06"},{id:3,quotationNumber:"QUO-003",merchant:{name:"متجر الجودة",email:"quality@store.com",phone:"+966503456789"},requestedItems:[{name:"جهاز كمبيوتر محمول HP",quantity:3,specifications:"للاستخدام المكتبي"}],status:"accepted",requestDate:"2025-09-04",deadline:"2025-09-06",notes:"عاجل - مطلوب بأسرع وقت",quotedPrice:7500,quotedDate:"2025-09-05"},{id:4,quotationNumber:"QUO-004",merchant:{name:"متجر التقنية",email:"tech@store.com",phone:"+966504567890"},requestedItems:[{name:"هاتف ذكي Samsung",quantity:15,specifications:"أحدث إصدار متوفر"}],status:"rejected",requestDate:"2025-09-03",deadline:"2025-09-05",notes:"للبيع في المتجر",quotedPrice:27e3,quotedDate:"2025-09-04"}])}catch(a){console.error("خطأ في جلب عروض الأسعار:",a)}})()},[]);const j=l.filter(s=>{const a=s.quotationNumber.toLowerCase().includes(d.toLowerCase())||s.merchant.name.toLowerCase().includes(d.toLowerCase()),g=h==="all"||s.status===h;return a&&g}),N=s=>{switch(s){case"pending":return"bg-yellow-100 text-yellow-800";case"quoted":return"bg-blue-100 text-blue-800";case"accepted":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";case"expired":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},o=s=>{switch(s){case"pending":return"في الانتظار";case"quoted":return"تم إرسال العرض";case"accepted":return"تم القبول";case"rejected":return"تم الرفض";case"expired":return"منتهي الصلاحية";default:return s}},D=s=>{switch(s){case"pending":return e.jsx(Y,{className:"h-4 w-4"});case"quoted":return e.jsx(ee,{className:"h-4 w-4"});case"accepted":return e.jsx(H,{className:"h-4 w-4"});case"rejected":return e.jsx(U,{className:"h-4 w-4"});default:return e.jsx(U,{className:"h-4 w-4"})}},q=async(s,a)=>{S(g=>g.map(i=>i.id===s?{...i,status:"quoted",quotedPrice:a,quotedDate:new Date().toISOString().split("T")[0]}:i));try{await(await oe(()=>import("./merchant-DYFR1qkg.js").then(i=>i.u),__vite__mapDeps([0,1]))).apiFetch(`/api/supplier/quotations/${s}/status`,{method:"PUT",body:JSON.stringify({status:"quoted"})})}catch(g){console.error("Failed to send quotation",g),alert("فشل إرسال عرض السعر")}},r=["all","pending","quoted","accepted","rejected","expired"],[b,t]=u.useState(!1),[n,c]=u.useState({merchantName:"",items:"",price:"",deadline:"",notes:""}),w=()=>{c({merchantName:"",items:"",price:"",deadline:"",notes:""}),t(!0)},v=()=>t(!1),M=async s=>{if(s.preventDefault(),!n.merchantName||!n.merchantName.trim()){alert("الرجاء إدخال اسم التاجر");return}const a={merchant_name:n.merchantName,items:n.items.split(",").map(g=>g.trim()).filter(Boolean),total_amount:n.price?parseFloat(n.price):null,valid_until:n.deadline,notes:n.notes};try{const g=await fetch("/api/supplier/quotations",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!g.ok){const W=await g.json().catch(()=>({}));throw new Error(W.error||"خطأ")}const i=await g.json(),y=i&&(i.quotation||i.quotations||i),A=y&&y.id||Date.now(),J={id:A,quotationNumber:y&&(y.quotation_number||y.quotationNumber)||`QUO-${A}`,merchant:{name:a.merchant_name},requestedItems:a.items.map((W,Ae)=>({name:W,quantity:1})),status:"quoted",requestDate:new Date().toISOString().split("T")[0],deadline:a.valid_until||"",notes:a.notes||"",quotedPrice:a.total_amount};S(W=>[J,...W]),t(!1)}catch{const i=Date.now(),y={id:i,quotationNumber:`QUO-${i}`,merchant:{name:a.merchant_name},requestedItems:a.items.map(A=>({name:A,quantity:1})),status:"quoted",requestDate:new Date().toISOString().split("T")[0],deadline:a.valid_until||"",notes:a.notes||"",quotedPrice:a.total_amount};S(A=>[y,...A]),t(!1)}};return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs(f.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"عروض الأسعار"}),e.jsx("p",{className:"text-gray-600",children:"إدارة طلبات عروض الأسعار من التجار"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsx(x,{children:e.jsx(m,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"إجمالي الطلبات"}),e.jsx("p",{className:"text-2xl font-bold",children:l.length})]}),e.jsx(U,{className:"h-8 w-8 text-blue-600"})]})})}),e.jsx(x,{children:e.jsx(m,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"في الانتظار"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:l.filter(s=>s.status==="pending").length})]}),e.jsx(Y,{className:"h-8 w-8 text-yellow-600"})]})})}),e.jsx(x,{children:e.jsx(m,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"تم الإرسال"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:l.filter(s=>s.status==="quoted").length})]}),e.jsx(ee,{className:"h-8 w-8 text-blue-600"})]})})}),e.jsx(x,{children:e.jsx(m,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"تم القبول"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:l.filter(s=>s.status==="accepted").length})]}),e.jsx(H,{className:"h-8 w-8 text-green-600"})]})})})]})]}),e.jsx(f.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:e.jsx(x,{children:e.jsx(m,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx(_,{type:"text",placeholder:"البحث في عروض الأسعار...",value:d,onChange:s=>P(s.target.value),className:"pl-10"})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("select",{value:h,onChange:s=>k(s.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:r.map(s=>e.jsx("option",{value:s,children:s==="all"?"جميع الحالات":o(s)},s))}),e.jsxs(T,{variant:"outline",children:[e.jsx(V,{className:"h-4 w-4 mr-2"}),"تصفية"]})]})]})})})}),e.jsx(f.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:e.jsxs(x,{children:[e.jsxs(R,{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(I,{children:"قائمة عروض الأسعار"}),e.jsxs(F,{children:["عرض ",j.length," من أصل ",l.length," طلب"]})]}),e.jsx("div",{children:e.jsxs(T,{onClick:w,className:"bg-green-600 text-white hover:bg-green-700",children:[e.jsx(z,{className:"h-4 w-4 mr-2"}),"إضافة عرض"]})})]}),e.jsxs(m,{children:[e.jsx("div",{className:"space-y-4",children:j.map(s=>e.jsxs(f.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3},className:"border rounded-lg p-4 hover:shadow-lg transition-shadow",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h3",{className:"font-semibold text-lg text-gray-900",children:s.quotationNumber}),e.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-medium flex items-center gap-1 ${N(s.status)}`,children:[D(s.status),o(s.status)]})]}),e.jsxs("p",{className:"text-gray-600 mb-1",children:["التاجر: ",s.merchant.name]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["تاريخ الطلب: ",s.requestDate]})]}),e.jsxs("div",{className:"text-left",children:[s.quotedPrice&&e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[s.quotedPrice.toLocaleString()," ريال"]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[s.requestedItems.length," منتج"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"معلومات التاجر"}),e.jsx("p",{className:"text-sm",children:s.merchant.email}),e.jsx("p",{className:"text-sm",children:s.merchant.phone})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"الموعد النهائي"}),e.jsx("p",{className:"text-sm font-medium",children:s.deadline})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"ملاحظات"}),e.jsx("p",{className:"text-sm",children:s.notes})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"المنتجات المطلوبة:"}),e.jsx("div",{className:"space-y-2",children:s.requestedItems.map((a,g)=>e.jsx("div",{className:"bg-gray-50 p-3 rounded-lg",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:a.name}),e.jsx("p",{className:"text-sm text-gray-600",children:a.specifications})]}),e.jsxs("p",{className:"font-bold",children:["الكمية: ",a.quantity]})]})},g))})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs(T,{size:"sm",variant:"outline",onClick:()=>window.location.href=`/supplier/quotations/${s.id}`,children:[e.jsx(Q,{className:"h-4 w-4 mr-1"}),"عرض التفاصيل"]}),s.status==="pending"&&e.jsxs(T,{size:"sm",className:"bg-blue-600 hover:bg-blue-700",onClick:()=>{const a=prompt("أدخل السعر المقترح:");a&&q(s.id,parseFloat(a))},children:[e.jsx(ee,{className:"h-4 w-4 mr-1"}),"إرسال عرض سعر"]}),s.status==="quoted"&&e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("span",{className:"text-sm text-gray-600",children:["تم الإرسال في: ",s.quotedDate]})})]})]},s.id))}),j.length===0&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx(U,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"لا توجد عروض أسعار تطابق البحث"})]})]})]})}),b&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:e.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md p-6 shadow-xl",children:[e.jsx("h4",{className:"text-lg font-bold mb-4",children:"إضافة عرض سعر"}),e.jsxs("form",{onSubmit:M,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-700",children:"اسم التاجر"}),e.jsx("input",{autoFocus:!0,value:n.merchantName,onChange:s=>c(a=>({...a,merchantName:s.target.value})),className:"w-full mt-2 px-3 py-2 border rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-700",children:"المنتجات (افصل بعلامة ,)"}),e.jsx("input",{value:n.items,onChange:s=>c(a=>({...a,items:s.target.value})),className:"w-full mt-2 px-3 py-2 border rounded-lg"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-700",children:"السعر الإجمالي"}),e.jsx("input",{value:n.price,onChange:s=>c(a=>({...a,price:s.target.value})),className:"w-full mt-2 px-3 py-2 border rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-700",children:"صلاحية العرض (تاريخ)"}),e.jsx("input",{type:"date",value:n.deadline,onChange:s=>c(a=>({...a,deadline:s.target.value})),className:"w-full mt-2 px-3 py-2 border rounded-lg"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-700",children:"ملاحظات"}),e.jsx("textarea",{value:n.notes,onChange:s=>c(a=>({...a,notes:s.target.value})),className:"w-full mt-2 px-3 py-2 border rounded-lg"})]}),e.jsxs("div",{className:"flex items-center justify-end gap-3",children:[e.jsx("button",{type:"button",onClick:v,className:"px-4 py-2 rounded-lg bg-gray-100",children:"إلغاء"}),e.jsx("button",{type:"submit",className:"px-4 py-2 rounded-lg bg-green-600 text-white",children:"إضافة"})]})]})]})})]})},Be=()=>{const[l,S]=u.useState(()=>{try{const s=localStorage.getItem("supplier_partners_v1")||localStorage.getItem("supplier_merchants_v1");return s?JSON.parse(s):[]}catch{return[]}}),[d,P]=u.useState(""),[h,k]=u.useState("all"),[O,p]=u.useState(null),[L,C]=u.useState(!1),[j,N]=u.useState(!1),[o,D]=u.useState({type:"merchant",name:"",email:"",phone:"",services:""}),[q,r]=u.useState("all");u.useEffect(()=>{try{localStorage.setItem("supplier_partners_v1",JSON.stringify(l))}catch{}},[l]),u.useEffect(()=>{(async()=>{try{const a=[{id:1,name:"متجر الأسواق الحديثة",type:"merchant",email:"modern@markets.com",phone:"+966501234567",address:"الرياض، حي النخيل، شارع الملك فهد",businessType:"تجارة إلكترونية",rating:4.8,totalOrders:45,totalSpent:125e3,lastOrderDate:"2025-09-06",status:"active",joinDate:"2024-01-15",paymentTerms:"30 يوم",creditLimit:5e4,notes:"عميل ممتاز، دفع منتظم"},{id:2,type:"merchant",name:"سوق المدينة",email:"city@market.com",phone:"+966502345678",address:"جدة، حي الصفا، شارع التحلية",businessType:"متجر تقليدي",rating:4.5,totalOrders:32,totalSpent:89e3,lastOrderDate:"2025-09-05",status:"active",joinDate:"2024-03-20",paymentTerms:"15 يوم",creditLimit:3e4,notes:"عميل جيد، يحتاج متابعة"},{id:3,type:"merchant",name:"متجر الجودة",email:"quality@store.com",phone:"+966503456789",address:"الدمام، حي الفيصلية، شارع الأمير محمد",businessType:"متجر متخصص",rating:4.9,totalOrders:67,totalSpent:198e3,lastOrderDate:"2025-09-04",status:"vip",joinDate:"2023-11-10",paymentTerms:"45 يوم",creditLimit:1e5,notes:"عميل VIP، أولوية في الخدمة"},{id:4,type:"merchant",name:"متجر التقنية",email:"tech@store.com",phone:"+966504567890",address:"مكة المكرمة، حي العزيزية، شارع الحرم",businessType:"إلكترونيات",rating:3.8,totalOrders:12,totalSpent:25e3,lastOrderDate:"2025-08-28",status:"inactive",joinDate:"2024-06-05",paymentTerms:"7 أيام",creditLimit:1e4,notes:"عميل جديد، يحتاج تطوير العلاقة"},{id:101,type:"shipping",name:"شركة الشحن السريعة",email:"fast@shipping.com",phone:"+966505000111",address:"الرياض، حي الشحن",businessType:"شحن وتوصيل",services:"توصيل داخلي، توصيل عاجل",rating:4.6,totalOrders:120,totalSpent:0,lastOrderDate:"2025-09-06",status:"active",joinDate:"2022-05-01",paymentTerms:"30 يوم",creditLimit:0,notes:"شريك شحن موثوق"},{id:102,type:"shipping",name:"الشحن الوطني",email:"national@ship.com",phone:"+966505000222",address:"جدة، حي الصناعات",businessType:"نقل جوي وبري",services:"نقل ثقيل، تتبع شحنات",rating:4.2,totalOrders:80,totalSpent:0,lastOrderDate:"2025-09-03",status:"active",joinDate:"2023-02-15",paymentTerms:"15 يوم",creditLimit:0,notes:"شركات شحن متعاونة"}];S(g=>g&&g.length?g:a)}catch(a){console.error("خطأ في جلب بيانات التجار:",a)}})()},[]);const b=()=>{D({type:"merchant",name:"",email:"",phone:"",services:""}),N(!0)},t=()=>N(!1),n=s=>{if(s.preventDefault(),!o.name||!o.name.trim()){alert("الرجاء إدخال اسم الشريك");return}const a={type:o.type,name:o.name,email:o.email,phone:o.phone,services:o.services};fetch("/api/supplier/merchants",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then(async g=>{if(!g.ok){const i=await g.json().catch(()=>({}));throw new Error(i.error||"خطأ")}return g.json()}).then(g=>{const i=g&&g.merchant?g.merchant:{id:Date.now(),name:a.name,email:a.email,phone:a.phone},y={id:i.id||Date.now(),name:i.name||a.name,email:i.email||a.email,phone:i.phone||a.phone,type:a.type,businessType:a.type==="shipping"?"شحن وتوصيل":"تجارة",services:a.services||"",rating:0,totalOrders:0,totalSpent:0,creditLimit:0,lastOrderDate:"-",paymentTerms:"-"};S(A=>[y,...A]),N(!1)}).catch(()=>{const i={id:Date.now(),name:o.name,email:o.email,phone:o.phone,type:o.type,businessType:o.type==="shipping"?"شحن وتوصيل":"تجارة",services:o.services||"",rating:0,totalOrders:0,totalSpent:0,creditLimit:0,lastOrderDate:"-",paymentTerms:"-"};S(y=>[i,...y]),N(!1)})},c=l.filter(s=>{const a=(d||"").toLowerCase(),g=(s.name||"").toLowerCase().includes(a)||(s.email||"").toLowerCase().includes(a)||(s.businessType||"").toLowerCase().includes(a),i=h==="all"||h==="high"&&s.rating>=4.5||h==="medium"&&s.rating>=3.5&&s.rating<4.5||h==="low"&&s.rating<3.5,y=q==="all"||(s.type||"merchant")===q;return g&&i&&y}),w=s=>{switch(s){case"active":return"bg-green-100 text-green-800";case"vip":return"bg-purple-100 text-purple-800";case"inactive":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},v=s=>{switch(s){case"active":return"نشط";case"vip":return"VIP";case"inactive":return"غير نشط";default:return s}},M=s=>{const a=[],g=Math.floor(s),i=s%1!==0;for(let A=0;A<g;A++)a.push(e.jsx(G,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"},A));i&&a.push(e.jsx(G,{className:"h-4 w-4 fill-yellow-200 text-yellow-400"},"half"));const y=5-Math.ceil(s);for(let A=0;A<y;A++)a.push(e.jsx(G,{className:"h-4 w-4 text-gray-300"},`empty-${A}`));return a};return e.jsxs("div",{className:"p-6 space-y-6",style:{color:"#0f172a",WebkitTextFillColor:"#0f172a"},children:[e.jsxs(f.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"إدارة التجار"}),e.jsx("p",{className:"text-gray-600",children:"متابعة وإدارة علاقاتك مع التجار والعملاء"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsx(x,{children:e.jsx(m,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"إجمالي التجار"}),e.jsx("p",{className:"text-2xl font-bold",children:l.length})]}),e.jsx($,{className:"h-8 w-8 text-blue-600"})]})})}),e.jsx(x,{children:e.jsx(m,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"التجار النشطون"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:l.filter(s=>s.status==="active"||s.status==="vip").length})]}),e.jsx(B,{className:"h-8 w-8 text-green-600"})]})})}),e.jsx(x,{children:e.jsx(m,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"عملاء VIP"}),e.jsx("p",{className:"text-2xl font-bold text-purple-600",children:l.filter(s=>s.status==="vip").length})]}),e.jsx(G,{className:"h-8 w-8 text-purple-600"})]})})}),e.jsx(x,{children:e.jsx(m,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"إجمالي المبيعات"}),e.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[l.reduce((s,a)=>s+(a.totalSpent||0),0).toLocaleString()," ريال"]})]}),e.jsx(z,{className:"h-8 w-8 text-green-600"})]})})})]})]}),e.jsx(f.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:e.jsx(x,{children:e.jsx(m,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx(_,{type:"text",placeholder:"البحث في التجار...",value:d,onChange:s=>P(s.target.value),className:"pl-10"})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("select",{value:q,onChange:s=>r(s.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"all",children:"جميع الشركاء"}),e.jsx("option",{value:"merchant",children:"تجار"}),e.jsx("option",{value:"shipping",children:"شركات شحن"})]}),e.jsxs("select",{value:h,onChange:s=>k(s.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"all",children:"جميع التقييمات"}),e.jsx("option",{value:"high",children:"تقييم عالي (4.5+)"}),e.jsx("option",{value:"medium",children:"تقييم متوسط (3.5-4.5)"}),e.jsx("option",{value:"low",children:"تقييم منخفض (أقل من 3.5)"})]}),e.jsxs(T,{variant:"outline",children:[e.jsx(V,{className:"h-4 w-4 mr-2"}),"تصفية"]})]})]})})})}),e.jsxs(f.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:[e.jsxs(x,{children:[e.jsxs(R,{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(I,{children:"قائمة الشركاء"}),e.jsxs(F,{children:["عرض ",c.length," من أصل ",l.length," شريك"]})]}),e.jsx("div",{children:e.jsxs(T,{onClick:b,className:"bg-green-600 text-white hover:bg-green-700",children:[e.jsx($,{className:"h-4 w-4 mr-2"}),"إضافة شريك"]})})]}),e.jsxs(m,{children:[e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:c.map(s=>e.jsxs(f.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3},className:"border rounded-lg p-4 hover:shadow-lg transition-shadow supplier-card",style:{backgroundColor:"#ffffff",color:"#111827"},children:[e.jsx("div",{className:"flex items-start justify-between mb-4",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h3",{title:s.name||"",className:"font-semibold text-lg clamp-2",style:{color:"#0f172a",margin:0,display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis",lineHeight:"1.15",overflowWrap:"break-word",WebkitTextFillColor:"#0f172a",backgroundClip:"initial"},children:s.name}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${w(s.status)}`,children:v(s.status)})]}),e.jsx("p",{title:s.businessType||"",className:"mb-1",style:{color:"#475569",margin:0,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",WebkitTextFillColor:"#475569",backgroundClip:"initial"},children:s.businessType}),e.jsxs("div",{className:"flex items-center gap-1 mb-2",children:[M(s.rating),e.jsxs("span",{className:"text-sm text-gray-600 mr-1",children:["(",s.rating,")"]})]})]})}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(re,{className:"h-4 w-4"}),e.jsx("span",{title:s.email||"",className:"block",style:{maxWidth:"100%",display:"inline-block",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",color:"#374151",overflowWrap:"anywhere",WebkitTextFillColor:"#374151",backgroundClip:"initial"},children:s.email})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(te,{className:"h-4 w-4"}),e.jsx("span",{title:s.phone||"",className:"block",style:{maxWidth:"100%",display:"inline-block",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",color:"#374151",WebkitTextFillColor:"#374151",backgroundClip:"initial"},children:s.phone})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(Ce,{className:"h-4 w-4"}),e.jsx("span",{title:s.address||"",className:"block",style:{maxWidth:"100%",display:"inline-block",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",color:"#374151",overflowWrap:"anywhere",WebkitTextFillColor:"#374151",backgroundClip:"initial"},children:s.address})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4 p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-lg font-bold text-gray-900",children:s.totalOrders}),e.jsx("p",{className:"text-xs text-gray-600",children:"طلب"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-lg font-bold text-green-600",children:(s.totalSpent||0).toLocaleString()}),e.jsx("p",{className:"text-xs text-gray-600",children:"ريال"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-lg font-bold text-blue-600",children:(s.creditLimit||0).toLocaleString()}),e.jsx("p",{className:"text-xs text-gray-600",children:"حد ائتماني"})]})]}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"آخر طلب:"}),e.jsx("span",{className:"font-medium",children:s.lastOrderDate})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"شروط الدفع:"}),e.jsx("span",{className:"font-medium",children:s.paymentTerms})]})]}),s.notes&&e.jsx("div",{className:"mb-4 p-2 bg-blue-50 rounded-lg",children:e.jsx("p",{title:s.notes||"",className:"text-sm text-blue-800",style:{display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical",overflow:"hidden",WebkitTextFillColor:"#1e3a8a",color:"#1e3a8a",backgroundClip:"initial"},children:s.notes})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(T,{size:"sm",variant:"outline",className:"flex-1",onClick:()=>{p(s),C(!0)},children:[e.jsx(Q,{className:"h-4 w-4 mr-1"}),"عرض التفاصيل"]}),e.jsxs(T,{size:"sm",variant:"outline",children:[e.jsx(te,{className:"h-4 w-4 mr-1"}),"اتصال"]}),e.jsxs(T,{size:"sm",variant:"outline",children:[e.jsx(re,{className:"h-4 w-4 mr-1"}),"رسالة"]})]})]},s.id))}),c.length===0&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx($,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"لا يوجد شركاء يطابقون البحث"})]})]})]}),j&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:e.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md p-6 shadow-xl",children:[e.jsx("h4",{className:"text-lg font-bold mb-4",children:"إضافة شريك جديد"}),e.jsxs("form",{onSubmit:n,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-700",children:"نوع الشريك"}),e.jsxs("select",{value:o.type,onChange:s=>D(a=>({...a,type:s.target.value})),className:"w-full mt-2 px-3 py-2 border rounded-lg",children:[e.jsx("option",{value:"merchant",children:"تاجر"}),e.jsx("option",{value:"shipping",children:"شركة شحن"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-700",children:"اسم الشريك"}),e.jsx("input",{autoFocus:!0,value:o.name,onChange:s=>D(a=>({...a,name:s.target.value})),className:"w-full mt-2 px-3 py-2 border rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-700",children:"البريد الإلكتروني"}),e.jsx("input",{value:o.email,onChange:s=>D(a=>({...a,email:s.target.value})),className:"w-full mt-2 px-3 py-2 border rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-700",children:"الهاتف"}),e.jsx("input",{value:o.phone,onChange:s=>D(a=>({...a,phone:s.target.value})),className:"w-full mt-2 px-3 py-2 border rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-700",children:"خدمات / ملاحظات"}),e.jsx("input",{value:o.services,onChange:s=>D(a=>({...a,services:s.target.value})),className:"w-full mt-2 px-3 py-2 border rounded-lg"})]}),e.jsxs("div",{className:"flex items-center justify-end gap-3",children:[e.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 rounded-lg bg-gray-100",children:"إلغاء"}),e.jsx("button",{type:"submit",className:"px-4 py-2 rounded-lg bg-green-600 text-white",children:"إضافة"})]})]})]})})]})]})},Qe=()=>{const[l,S]=u.useState({}),[d,P]=u.useState("month"),[h,k]=u.useState("sales");u.useEffect(()=>{O()},[d]);const O=async()=>{try{S({sales:{current:125e3,previous:98e3,growth:27.6,chartData:[{month:"يناير",sales:85e3},{month:"فبراير",sales:92e3},{month:"مارس",sales:78e3},{month:"أبريل",sales:105e3},{month:"مايو",sales:118e3},{month:"يونيو",sales:125e3}]},orders:{total:89,completed:81,pending:8,cancelled:0,chartData:[{status:"مكتملة",count:81,color:"#10B981"},{status:"في الانتظار",count:8,color:"#F59E0B"}]},products:{total:156,active:142,lowStock:8,outOfStock:6,topSelling:[{name:"جهاز كمبيوتر محمول HP",sales:25,revenue:62500},{name:"هاتف ذكي Samsung",sales:18,revenue:32400},{name:"طاولة مكتب خشبية",sales:15,revenue:12e3},{name:"كرسي مكتب مريح",sales:12,revenue:5400}]},merchants:{total:24,active:18,vip:3,topMerchants:[{name:"متجر الأسواق الحديثة",orders:45,spent:125e3},{name:"متجر الجودة",orders:67,spent:198e3},{name:"سوق المدينة",orders:32,spent:89e3},{name:"متجر التقنية",orders:12,spent:25e3}]}})}catch(r){console.error("خطأ في جلب بيانات التقارير:",r)}},p=[{id:"sales",label:"تقرير المبيعات",icon:z},{id:"orders",label:"تقرير الطلبات",icon:K},{id:"products",label:"تقرير المنتجات",icon:E},{id:"merchants",label:"تقرير التجار",icon:$}],L=[{id:"week",label:"أسبوعي"},{id:"month",label:"شهري"},{id:"quarter",label:"ربع سنوي"},{id:"year",label:"سنوي"}],C=r=>{console.log(`تصدير التقرير بصيغة ${r}`),alert(`سيتم تصدير التقرير بصيغة ${r}`)},j=()=>{var r,b,t,n,c,w,v;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(x,{children:e.jsx(m,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"المبيعات الحالية"}),e.jsxs("p",{className:"text-2xl font-bold",children:[(b=(r=l.sales)==null?void 0:r.current)==null?void 0:b.toLocaleString()," ريال"]})]}),e.jsx(z,{className:"h-8 w-8 text-green-600"})]})})}),e.jsx(x,{children:e.jsx(m,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"المبيعات السابقة"}),e.jsxs("p",{className:"text-2xl font-bold",children:[(n=(t=l.sales)==null?void 0:t.previous)==null?void 0:n.toLocaleString()," ريال"]})]}),e.jsx(ue,{className:"h-8 w-8 text-blue-600"})]})})}),e.jsx(x,{children:e.jsx(m,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"معدل النمو"}),e.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["+",(c=l.sales)==null?void 0:c.growth,"%"]})]}),e.jsx(B,{className:"h-8 w-8 text-green-600"})]})})})]}),e.jsxs(x,{children:[e.jsxs(R,{children:[e.jsx(I,{children:"اتجاه المبيعات"}),e.jsx(F,{children:"المبيعات خلال الأشهر الماضية"})]}),e.jsx(m,{children:e.jsx("div",{className:"space-y-4",children:(v=(w=l.sales)==null?void 0:w.chartData)==null?void 0:v.map((M,s)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsx("span",{className:"font-medium",children:M.month}),e.jsxs("span",{className:"font-bold text-green-600",children:[M.sales.toLocaleString()," ريال"]})]},s))})})]})]})},N=()=>{var r,b,t,n,c,w;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(x,{children:e.jsx(m,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"إجمالي الطلبات"}),e.jsx("p",{className:"text-2xl font-bold",children:(r=l.orders)==null?void 0:r.total})]}),e.jsx(K,{className:"h-8 w-8 text-blue-600"})]})})}),e.jsx(x,{children:e.jsx(m,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"طلبات مكتملة"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:(b=l.orders)==null?void 0:b.completed})]}),e.jsx(B,{className:"h-8 w-8 text-green-600"})]})})}),e.jsx(x,{children:e.jsx(m,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"طلبات معلقة"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:(t=l.orders)==null?void 0:t.pending})]}),e.jsx(E,{className:"h-8 w-8 text-yellow-600"})]})})}),e.jsx(x,{children:e.jsx(m,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"طلبات ملغية"}),e.jsx("p",{className:"text-2xl font-bold text-red-600",children:(n=l.orders)==null?void 0:n.cancelled})]}),e.jsx(U,{className:"h-8 w-8 text-red-600"})]})})})]}),e.jsxs(x,{children:[e.jsxs(R,{children:[e.jsx(I,{children:"توزيع الطلبات"}),e.jsx(F,{children:"توزيع الطلبات حسب الحالة"})]}),e.jsx(m,{children:e.jsx("div",{className:"space-y-4",children:(w=(c=l.orders)==null?void 0:c.chartData)==null?void 0:w.map((v,M)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:v.color}}),e.jsx("span",{className:"font-medium",children:v.status})]}),e.jsxs("span",{className:"font-bold",children:[v.count," طلب"]})]},M))})})]})]})},o=()=>{var r,b,t,n,c,w;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(x,{children:e.jsx(m,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"إجمالي المنتجات"}),e.jsx("p",{className:"text-2xl font-bold",children:(r=l.products)==null?void 0:r.total})]}),e.jsx(E,{className:"h-8 w-8 text-blue-600"})]})})}),e.jsx(x,{children:e.jsx(m,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"منتجات نشطة"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:(b=l.products)==null?void 0:b.active})]}),e.jsx(B,{className:"h-8 w-8 text-green-600"})]})})}),e.jsx(x,{children:e.jsx(m,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"مخزون منخفض"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:(t=l.products)==null?void 0:t.lowStock})]}),e.jsx(E,{className:"h-8 w-8 text-yellow-600"})]})})}),e.jsx(x,{children:e.jsx(m,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"نفد المخزون"}),e.jsx("p",{className:"text-2xl font-bold text-red-600",children:(n=l.products)==null?void 0:n.outOfStock})]}),e.jsx(E,{className:"h-8 w-8 text-red-600"})]})})})]}),e.jsxs(x,{children:[e.jsxs(R,{children:[e.jsx(I,{children:"أفضل المنتجات مبيعاً"}),e.jsx(F,{children:"المنتجات الأكثر مبيعاً خلال الفترة المحددة"})]}),e.jsx(m,{children:e.jsx("div",{className:"space-y-4",children:(w=(c=l.products)==null?void 0:c.topSelling)==null?void 0:w.map((v,M)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:v.name}),e.jsxs("p",{className:"text-sm text-gray-600",children:[v.sales," مبيعة"]})]}),e.jsxs("p",{className:"font-bold text-green-600",children:[v.revenue.toLocaleString()," ريال"]})]},M))})})]})]})},D=()=>{var r,b,t,n,c;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(x,{children:e.jsx(m,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"إجمالي التجار"}),e.jsx("p",{className:"text-2xl font-bold",children:(r=l.merchants)==null?void 0:r.total})]}),e.jsx($,{className:"h-8 w-8 text-blue-600"})]})})}),e.jsx(x,{children:e.jsx(m,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"تجار نشطون"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:(b=l.merchants)==null?void 0:b.active})]}),e.jsx(B,{className:"h-8 w-8 text-green-600"})]})})}),e.jsx(x,{children:e.jsx(m,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"عملاء VIP"}),e.jsx("p",{className:"text-2xl font-bold text-purple-600",children:(t=l.merchants)==null?void 0:t.vip})]}),e.jsx($,{className:"h-8 w-8 text-purple-600"})]})})})]}),e.jsxs(x,{children:[e.jsxs(R,{children:[e.jsx(I,{children:"أفضل التجار"}),e.jsx(F,{children:"التجار الأكثر نشاطاً وإنفاقاً"})]}),e.jsx(m,{children:e.jsx("div",{className:"space-y-4",children:(c=(n=l.merchants)==null?void 0:n.topMerchants)==null?void 0:c.map((w,v)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:w.name}),e.jsxs("p",{className:"text-sm text-gray-600",children:[w.orders," طلب"]})]}),e.jsxs("p",{className:"font-bold text-green-600",children:[w.spent.toLocaleString()," ريال"]})]},v))})})]})]})},q=()=>{switch(h){case"sales":return j();case"orders":return N();case"products":return o();case"merchants":return D();default:return j()}};return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs(f.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"التقارير والإحصائيات"}),e.jsx("p",{className:"text-gray-600",children:"تحليل شامل لأداء أعمالك ومبيعاتك"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(T,{variant:"outline",onClick:()=>C("PDF"),children:[e.jsx(ne,{className:"h-4 w-4 mr-2"}),"تصدير PDF"]}),e.jsxs(T,{variant:"outline",onClick:()=>C("Excel"),children:[e.jsx(ne,{className:"h-4 w-4 mr-2"}),"تصدير Excel"]})]})]}),e.jsx(x,{children:e.jsx(m,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("select",{value:h,onChange:r=>k(r.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:p.map(r=>e.jsx("option",{value:r.id,children:r.label},r.id))}),e.jsx("select",{value:d,onChange:r=>P(r.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:L.map(r=>e.jsx("option",{value:r.id,children:r.label},r.id))})]}),e.jsxs(T,{variant:"outline",children:[e.jsx(V,{className:"h-4 w-4 mr-2"}),"تطبيق المرشحات"]})]})})})]}),e.jsx(f.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:q()},h)]})},We=()=>{var o,D,q,r,b,t,n,c,w,v,M,s,a,g;const[l,S]=u.useState({}),[d,P]=u.useState(!1),[h,k]=u.useState({});u.useEffect(()=>{O()},[]);const O=async()=>{try{const i={id:1,companyName:"شركة الإمدادات المتقدمة",contactPerson:"أحمد محمد السعيد",email:"supplier@demo.com",phone:"+966501234567",address:"الرياض، حي الملك فهد، شارع العليا",website:"www.advanced-supplies.com",businessType:"تجارة الإلكترونيات والأثاث",establishedYear:"2018",employeeCount:"25-50",description:"شركة رائدة في توريد الإلكترونيات والأثاث المكتبي بجودة عالية وأسعار تنافسية. نخدم العملاء في جميع أنحاء المملكة العربية السعودية.",certifications:["شهادة الجودة ISO 9001","ترخيص وزارة التجارة","عضوية غرفة التجارة"],bankDetails:{bankName:"البنك الأهلي السعودي",accountNumber:"****1234",iban:"SA****1234567890"},taxInfo:{taxNumber:"123456789",vatRegistered:!0},statistics:{totalOrders:89,totalRevenue:125e3,activeProducts:156,customerRating:4.8}};S(i),k(i)}catch(i){console.error("خطأ في جلب بيانات الملف الشخصي:",i)}},p=()=>{P(!0)},L=async()=>{try{S(h),P(!1),alert("تم حفظ التغييرات بنجاح")}catch(i){console.error("خطأ في حفظ البيانات:",i),alert("حدث خطأ في حفظ البيانات")}},C=()=>{k(l),P(!1)},j=(i,y)=>{k(A=>({...A,[i]:y}))},N=(i,y,A)=>{k(J=>({...J,[i]:{...J[i],[y]:A}}))};return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsx(f.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"الملف الشخصي"}),e.jsx("p",{className:"text-gray-600",children:"إدارة معلومات شركتك وبياناتك الشخصية"})]}),e.jsx("div",{className:"flex gap-2",children:d?e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(T,{onClick:L,className:"bg-green-600 hover:bg-green-700",children:[e.jsx(ge,{className:"h-4 w-4 mr-2"}),"حفظ التغييرات"]}),e.jsx(T,{onClick:C,variant:"outline",children:"إلغاء"})]}):e.jsxs(T,{onClick:p,className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(pe,{className:"h-4 w-4 mr-2"}),"تعديل الملف"]})})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsx(f.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.1},children:e.jsxs(x,{children:[e.jsxs(R,{children:[e.jsxs(I,{className:"flex items-center gap-2",children:[e.jsx(De,{className:"h-5 w-5"}),"معلومات الشركة"]}),e.jsx(F,{children:"البيانات الأساسية للشركة"})]}),e.jsxs(m,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"اسم الشركة"}),d?e.jsx(_,{value:h.companyName||"",onChange:i=>j("companyName",i.target.value)}):e.jsx("p",{className:"text-gray-900",children:l.companyName})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"الشخص المسؤول"}),d?e.jsx(_,{value:h.contactPerson||"",onChange:i=>j("contactPerson",i.target.value)}):e.jsx("p",{className:"text-gray-900",children:l.contactPerson})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"نوع النشاط"}),d?e.jsx(_,{value:h.businessType||"",onChange:i=>j("businessType",i.target.value)}):e.jsx("p",{className:"text-gray-900",children:l.businessType})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"سنة التأسيس"}),d?e.jsx(_,{value:h.establishedYear||"",onChange:i=>j("establishedYear",i.target.value)}):e.jsx("p",{className:"text-gray-900",children:l.establishedYear})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"عدد الموظفين"}),d?e.jsxs("select",{value:h.employeeCount||"",onChange:i=>j("employeeCount",i.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"1-10",children:"1-10"}),e.jsx("option",{value:"11-25",children:"11-25"}),e.jsx("option",{value:"25-50",children:"25-50"}),e.jsx("option",{value:"50-100",children:"50-100"}),e.jsx("option",{value:"100+",children:"100+"})]}):e.jsx("p",{className:"text-gray-900",children:l.employeeCount})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"الموقع الإلكتروني"}),d?e.jsx(_,{value:h.website||"",onChange:i=>j("website",i.target.value)}):e.jsx("p",{className:"text-gray-900",children:l.website})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"وصف الشركة"}),d?e.jsx("textarea",{value:h.description||"",onChange:i=>j("description",i.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}):e.jsx("p",{className:"text-gray-900",children:l.description})]})]})]})}),e.jsx(f.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},children:e.jsxs(x,{children:[e.jsxs(R,{children:[e.jsxs(I,{className:"flex items-center gap-2",children:[e.jsx(te,{className:"h-5 w-5"}),"معلومات الاتصال"]}),e.jsx(F,{children:"بيانات التواصل والعنوان"})]}),e.jsxs(m,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"البريد الإلكتروني"}),d?e.jsx(_,{type:"email",value:h.email||"",onChange:i=>j("email",i.target.value)}):e.jsx("p",{className:"text-gray-900",children:l.email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"رقم الهاتف"}),d?e.jsx(_,{value:h.phone||"",onChange:i=>j("phone",i.target.value)}):e.jsx("p",{className:"text-gray-900",children:l.phone})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"العنوان"}),d?e.jsx(_,{value:h.address||"",onChange:i=>j("address",i.target.value)}):e.jsx("p",{className:"text-gray-900",children:l.address})]})]})]})}),e.jsx(f.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.3},children:e.jsxs(x,{children:[e.jsxs(R,{children:[e.jsxs(I,{className:"flex items-center gap-2",children:[e.jsx(U,{className:"h-5 w-5"}),"البيانات المالية"]}),e.jsx(F,{children:"المعلومات المصرفية والضريبية"})]}),e.jsx(m,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"اسم البنك"}),d?e.jsx(_,{value:((o=h.bankDetails)==null?void 0:o.bankName)||"",onChange:i=>N("bankDetails","bankName",i.target.value)}):e.jsx("p",{className:"text-gray-900",children:(D=l.bankDetails)==null?void 0:D.bankName})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"رقم الحساب"}),d?e.jsx(_,{value:((q=h.bankDetails)==null?void 0:q.accountNumber)||"",onChange:i=>N("bankDetails","accountNumber",i.target.value)}):e.jsx("p",{className:"text-gray-900",children:(r=l.bankDetails)==null?void 0:r.accountNumber})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"رقم الآيبان"}),d?e.jsx(_,{value:((b=h.bankDetails)==null?void 0:b.iban)||"",onChange:i=>N("bankDetails","iban",i.target.value)}):e.jsx("p",{className:"text-gray-900",children:(t=l.bankDetails)==null?void 0:t.iban})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"الرقم الضريبي"}),d?e.jsx(_,{value:((n=h.taxInfo)==null?void 0:n.taxNumber)||"",onChange:i=>N("taxInfo","taxNumber",i.target.value)}):e.jsx("p",{className:"text-gray-900",children:(c=l.taxInfo)==null?void 0:c.taxNumber})]})]})})]})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(f.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.1},children:e.jsxs(x,{children:[e.jsx(R,{children:e.jsx(I,{children:"إحصائيات سريعة"})}),e.jsxs(m,{className:"space-y-4",children:[e.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:(w=l.statistics)==null?void 0:w.totalOrders}),e.jsx("p",{className:"text-sm text-blue-700",children:"إجمالي الطلبات"})]}),e.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[e.jsx("p",{className:"text-2xl font-bold text-green-600",children:(M=(v=l.statistics)==null?void 0:v.totalRevenue)==null?void 0:M.toLocaleString()}),e.jsx("p",{className:"text-sm text-green-700",children:"إجمالي الإيرادات (ريال)"})]}),e.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[e.jsx("p",{className:"text-2xl font-bold text-purple-600",children:(s=l.statistics)==null?void 0:s.activeProducts}),e.jsx("p",{className:"text-sm text-purple-700",children:"المنتجات النشطة"})]}),e.jsxs("div",{className:"text-center p-3 bg-yellow-50 rounded-lg",children:[e.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:(a=l.statistics)==null?void 0:a.customerRating}),e.jsx("p",{className:"text-sm text-yellow-700",children:"تقييم العملاء"})]})]})]})}),e.jsx(f.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},children:e.jsxs(x,{children:[e.jsx(R,{children:e.jsxs(I,{className:"flex items-center gap-2",children:[e.jsx(ie,{className:"h-5 w-5"}),"الشهادات والتراخيص"]})}),e.jsx(m,{children:e.jsx("div",{className:"space-y-2",children:(g=l.certifications)==null?void 0:g.map((i,y)=>e.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gray-50 rounded-lg",children:[e.jsx(ie,{className:"h-4 w-4 text-green-600"}),e.jsx("span",{className:"text-sm",children:i})]},y))})})]})})]})]})]})},ze=()=>{const[l,S]=u.useState({}),[d,P]=u.useState(!1),[h,k]=u.useState("notifications");u.useEffect(()=>{O()},[]);const O=async()=>{try{S({notifications:{emailNotifications:!0,smsNotifications:!1,orderUpdates:!0,quotationRequests:!0,paymentReminders:!0,marketingEmails:!1,systemUpdates:!0},security:{twoFactorAuth:!1,loginAlerts:!0,sessionTimeout:30,passwordLastChanged:"2025-08-15"},preferences:{language:"ar",timezone:"Asia/Riyadh",currency:"SAR",dateFormat:"dd/mm/yyyy",theme:"light"},privacy:{profileVisibility:"public",showContactInfo:!0,allowDirectMessages:!0,dataSharing:!1}})}catch(r){console.error("خطأ في جلب الإعدادات:",r)}},p=(r,b,t)=>{S(n=>({...n,[r]:{...n[r],[b]:t}}))},L=async()=>{try{console.log("حفظ الإعدادات:",l),alert("تم حفظ الإعدادات بنجاح")}catch(r){console.error("خطأ في حفظ الإعدادات:",r),alert("حدث خطأ في حفظ الإعدادات")}},C=[{id:"notifications",label:"الإشعارات",icon:me},{id:"security",label:"الأمان",icon:Te},{id:"preferences",label:"التفضيلات",icon:xe},{id:"privacy",label:"الخصوصية",icon:Q}],j=()=>{var r,b,t,n,c,w;return e.jsx("div",{className:"space-y-6",children:e.jsxs(x,{children:[e.jsxs(R,{children:[e.jsx(I,{children:"إعدادات الإشعارات"}),e.jsx(F,{children:"تحكم في الإشعارات التي تريد استلامها"})]}),e.jsxs(m,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"إشعارات البريد الإلكتروني"}),e.jsx("p",{className:"text-sm text-gray-600",children:"استلام الإشعارات عبر البريد الإلكتروني"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:((r=l.notifications)==null?void 0:r.emailNotifications)||!1,onChange:v=>p("notifications","emailNotifications",v.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"إشعارات الرسائل النصية"}),e.jsx("p",{className:"text-sm text-gray-600",children:"استلام الإشعارات عبر الرسائل النصية"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:((b=l.notifications)==null?void 0:b.smsNotifications)||!1,onChange:v=>p("notifications","smsNotifications",v.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"تحديثات الطلبات"}),e.jsx("p",{className:"text-sm text-gray-600",children:"إشعارات عند تحديث حالة الطلبات"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:((t=l.notifications)==null?void 0:t.orderUpdates)||!1,onChange:v=>p("notifications","orderUpdates",v.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"طلبات عروض الأسعار"}),e.jsx("p",{className:"text-sm text-gray-600",children:"إشعارات عند استلام طلبات عروض أسعار جديدة"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:((n=l.notifications)==null?void 0:n.quotationRequests)||!1,onChange:v=>p("notifications","quotationRequests",v.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"تذكيرات الدفع"}),e.jsx("p",{className:"text-sm text-gray-600",children:"تذكيرات بالمدفوعات المستحقة"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:((c=l.notifications)==null?void 0:c.paymentReminders)||!1,onChange:v=>p("notifications","paymentReminders",v.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"رسائل تسويقية"}),e.jsx("p",{className:"text-sm text-gray-600",children:"استلام عروض وأخبار المنصة"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:((w=l.notifications)==null?void 0:w.marketingEmails)||!1,onChange:v=>p("notifications","marketingEmails",v.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]})})},N=()=>{var r,b,t;return e.jsx("div",{className:"space-y-6",children:e.jsxs(x,{children:[e.jsxs(R,{children:[e.jsx(I,{children:"إعدادات الأمان"}),e.jsx(F,{children:"حماية حسابك وبياناتك"})]}),e.jsxs(m,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"المصادقة الثنائية"}),e.jsx("p",{className:"text-sm text-gray-600",children:"حماية إضافية لحسابك"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:((r=l.security)==null?void 0:r.twoFactorAuth)||!1,onChange:n=>p("security","twoFactorAuth",n.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"تنبيهات تسجيل الدخول"}),e.jsx("p",{className:"text-sm text-gray-600",children:"إشعار عند تسجيل الدخول من جهاز جديد"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:((b=l.security)==null?void 0:b.loginAlerts)||!1,onChange:n=>p("security","loginAlerts",n.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"مهلة انتهاء الجلسة (بالدقائق)"}),e.jsxs("select",{value:((t=l.security)==null?void 0:t.sessionTimeout)||30,onChange:n=>p("security","sessionTimeout",parseInt(n.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:15,children:"15 دقيقة"}),e.jsx("option",{value:30,children:"30 دقيقة"}),e.jsx("option",{value:60,children:"60 دقيقة"}),e.jsx("option",{value:120,children:"120 دقيقة"})]})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h4",{className:"font-medium mb-3",children:"تغيير كلمة المرور"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"كلمة المرور الحالية"}),e.jsxs("div",{className:"relative",children:[e.jsx(_,{type:d?"text":"password",placeholder:"أدخل كلمة المرور الحالية"}),e.jsx("button",{type:"button",onClick:()=>P(!d),className:"absolute left-3 top-1/2 transform -translate-y-1/2",children:d?e.jsx(Pe,{className:"h-4 w-4"}):e.jsx(Q,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"كلمة المرور الجديدة"}),e.jsx(_,{type:"password",placeholder:"أدخل كلمة المرور الجديدة"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"تأكيد كلمة المرور الجديدة"}),e.jsx(_,{type:"password",placeholder:"أعد إدخال كلمة المرور الجديدة"})]}),e.jsxs(T,{className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Oe,{className:"h-4 w-4 mr-2"}),"تحديث كلمة المرور"]})]})]})]})]})})},o=()=>{var r,b,t,n,c;return e.jsx("div",{className:"space-y-6",children:e.jsxs(x,{children:[e.jsxs(R,{children:[e.jsx(I,{children:"التفضيلات العامة"}),e.jsx(F,{children:"تخصيص تجربة استخدام المنصة"})]}),e.jsx(m,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"اللغة"}),e.jsxs("select",{value:((r=l.preferences)==null?void 0:r.language)||"ar",onChange:w=>p("preferences","language",w.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"ar",children:"العربية"}),e.jsx("option",{value:"en",children:"English"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"المنطقة الزمنية"}),e.jsxs("select",{value:((b=l.preferences)==null?void 0:b.timezone)||"Asia/Riyadh",onChange:w=>p("preferences","timezone",w.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"Asia/Riyadh",children:"الرياض (GMT+3)"}),e.jsx("option",{value:"Asia/Dubai",children:"دبي (GMT+4)"}),e.jsx("option",{value:"Asia/Kuwait",children:"الكويت (GMT+3)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"العملة"}),e.jsxs("select",{value:((t=l.preferences)==null?void 0:t.currency)||"SAR",onChange:w=>p("preferences","currency",w.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"SAR",children:"ريال سعودي (SAR)"}),e.jsx("option",{value:"AED",children:"درهم إماراتي (AED)"}),e.jsx("option",{value:"KWD",children:"دينار كويتي (KWD)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"تنسيق التاريخ"}),e.jsxs("select",{value:((n=l.preferences)==null?void 0:n.dateFormat)||"dd/mm/yyyy",onChange:w=>p("preferences","dateFormat",w.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"dd/mm/yyyy",children:"يوم/شهر/سنة"}),e.jsx("option",{value:"mm/dd/yyyy",children:"شهر/يوم/سنة"}),e.jsx("option",{value:"yyyy-mm-dd",children:"سنة-شهر-يوم"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"المظهر"}),e.jsxs("select",{value:((c=l.preferences)==null?void 0:c.theme)||"light",onChange:w=>p("preferences","theme",w.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"light",children:"فاتح"}),e.jsx("option",{value:"dark",children:"داكن"}),e.jsx("option",{value:"auto",children:"تلقائي"})]})]})]})})]})})},D=()=>{var r,b,t,n;return e.jsx("div",{className:"space-y-6",children:e.jsxs(x,{children:[e.jsxs(R,{children:[e.jsx(I,{children:"إعدادات الخصوصية"}),e.jsx(F,{children:"تحكم في مشاركة بياناتك وظهور ملفك الشخصي"})]}),e.jsxs(m,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ظهور الملف الشخصي"}),e.jsxs("select",{value:((r=l.privacy)==null?void 0:r.profileVisibility)||"public",onChange:c=>p("privacy","profileVisibility",c.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"public",children:"عام - يمكن للجميع رؤيته"}),e.jsx("option",{value:"partners",children:"الشركاء فقط"}),e.jsx("option",{value:"private",children:"خاص - مخفي"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"إظهار معلومات الاتصال"}),e.jsx("p",{className:"text-sm text-gray-600",children:"السماح للتجار برؤية بيانات الاتصال"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:((b=l.privacy)==null?void 0:b.showContactInfo)||!1,onChange:c=>p("privacy","showContactInfo",c.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"السماح بالرسائل المباشرة"}),e.jsx("p",{className:"text-sm text-gray-600",children:"السماح للتجار بإرسال رسائل مباشرة"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:((t=l.privacy)==null?void 0:t.allowDirectMessages)||!1,onChange:c=>p("privacy","allowDirectMessages",c.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"مشاركة البيانات للتحليل"}),e.jsx("p",{className:"text-sm text-gray-600",children:"مشاركة البيانات المجهولة لتحسين الخدمة"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:((n=l.privacy)==null?void 0:n.dataSharing)||!1,onChange:c=>p("privacy","dataSharing",c.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]})})},q=()=>{switch(h){case"notifications":return j();case"security":return N();case"preferences":return o();case"privacy":return D();default:return j()}};return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsx(f.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"الإعدادات"}),e.jsx("p",{className:"text-gray-600",children:"إدارة إعدادات حسابك وتفضيلاتك"})]}),e.jsxs(T,{onClick:L,className:"bg-green-600 hover:bg-green-700",children:[e.jsx(ge,{className:"h-4 w-4 mr-2"}),"حفظ جميع التغييرات"]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[e.jsx(f.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.1},children:e.jsx(x,{children:e.jsx(m,{className:"p-4",children:e.jsx("nav",{className:"space-y-2",children:C.map(r=>e.jsxs("button",{onClick:()=>k(r.id),className:`w-full flex items-center gap-3 px-3 py-2 rounded-lg text-right transition-colors ${h===r.id?"bg-blue-50 text-blue-600 border-r-4 border-blue-600":"text-gray-700 hover:bg-gray-50"}`,children:[e.jsx(r.icon,{className:`h-5 w-5 ${h===r.id?"text-blue-600":"text-gray-500"}`}),e.jsx("span",{className:"font-medium",children:r.label})]},r.id))})})})}),e.jsx("div",{className:"lg:col-span-3",children:e.jsx(f.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:q()},h)})]})]})},He=()=>e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold",children:"إدارة المخزون"}),e.jsx("p",{className:"text-sm text-gray-600",children:"هنا تعرض واجهة إدارة المخزون (قوائم المخزون، تعديلات، تقرير مستويات المخزون)."}),e.jsx("div",{className:"mt-4"})]}),Ve=()=>e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold",children:"إدارة العملاء"}),e.jsx("p",{className:"text-sm text-gray-600",children:"قائمة العملاء، جهات الاتصال، وأوامر العملاء."}),e.jsx("div",{className:"mt-4"})]});export{Ie as S,Me as a,ze as b,We as c,Qe as d,Be as e,Ue as f,$e as g,Ve as h,He as i,Fe as j};
